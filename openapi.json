{"openapi":"3.0.0","paths":{"/api":{"get":{"operationId":"getHello","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}}},"post":{"operationId":"echo","parameters":[],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}}}},"/api/user/register":{"post":{"operationId":"register","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["User"]}},"/api/user/{id}":{"get":{"operationId":"getOneUser","summary":"Retrieve a single User","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}},{"name":"fields","description":"Selects resource fields. <a href=\"https://github.com/nestjsx/crud/wiki/Requests#select\" target=\"_blank\">Docs</a>","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}},"style":"form","explode":false},{"name":"join","description":"Adds relational resources. <a href=\"https://github.com/nestjsx/crud/wiki/Requests#join\" target=\"_blank\">Docs</a>","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}},"style":"form","explode":true},{"name":"cache","description":"Reset cache (if was enabled). <a href=\"https://github.com/nestjsx/crud/wiki/Requests#cache\" target=\"_blank\">Docs</a>","required":false,"in":"query","schema":{"type":"integer","minimum":0,"maximum":1}}],"responses":{"200":{"description":"Get one base response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["User"]},"patch":{"operationId":"updateOneUser","summary":"Update a single User","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"responses":{"200":{"description":"Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["User"]},"put":{"operationId":"replaceOneUser","summary":"Replace a single User","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"responses":{"200":{"description":"Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["User"]},"delete":{"operationId":"deleteOneUser","summary":"Delete a single User","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Delete one base response"}},"tags":["User"]}},"/api/user":{"get":{"operationId":"getManyUser","summary":"Retrieve multiple Users","parameters":[{"name":"fields","description":"Selects resource fields. <a href=\"https://github.com/nestjsx/crud/wiki/Requests#select\" target=\"_blank\">Docs</a>","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}},"style":"form","explode":false},{"name":"s","description":"Adds search condition. <a href=\"https://github.com/nestjsx/crud/wiki/Requests#search\" target=\"_blank\">Docs</a>","required":false,"in":"query","schema":{"type":"string"}},{"name":"filter","description":"Adds filter condition. <a href=\"https://github.com/nestjsx/crud/wiki/Requests#filter\" target=\"_blank\">Docs</a>","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}},"style":"form","explode":true},{"name":"or","description":"Adds OR condition. <a href=\"https://github.com/nestjsx/crud/wiki/Requests#or\" target=\"_blank\">Docs</a>","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}},"style":"form","explode":true},{"name":"sort","description":"Adds sort by field. <a href=\"https://github.com/nestjsx/crud/wiki/Requests#sort\" target=\"_blank\">Docs</a>","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}},"style":"form","explode":true},{"name":"join","description":"Adds relational resources. <a href=\"https://github.com/nestjsx/crud/wiki/Requests#join\" target=\"_blank\">Docs</a>","required":false,"in":"query","schema":{"type":"array","items":{"type":"string"}},"style":"form","explode":true},{"name":"limit","description":"Limit amount of resources. <a href=\"https://github.com/nestjsx/crud/wiki/Requests#limit\" target=\"_blank\">Docs</a>","required":false,"in":"query","schema":{"type":"integer"}},{"name":"offset","description":"Offset amount of resources. <a href=\"https://github.com/nestjsx/crud/wiki/Requests#offset\" target=\"_blank\">Docs</a>","required":false,"in":"query","schema":{"type":"integer"}},{"name":"page","description":"Page portion of resources. <a href=\"https://github.com/nestjsx/crud/wiki/Requests#page\" target=\"_blank\">Docs</a>","required":false,"in":"query","schema":{"type":"integer"}},{"name":"cache","description":"Reset cache (if was enabled). <a href=\"https://github.com/nestjsx/crud/wiki/Requests#cache\" target=\"_blank\">Docs</a>","required":false,"in":"query","schema":{"type":"integer","minimum":0,"maximum":1}}],"responses":{"200":{"description":"Get many base response","content":{"application/json":{"schema":{"oneOf":[{"$ref":"#/components/schemas/GetManyUserResponseDto"},{"type":"array","items":{"$ref":"#/components/schemas/User"}}]}}}}},"tags":["User"]},"post":{"operationId":"createOneUser","summary":"Create a single User","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}},"responses":{"201":{"description":"Get create one base response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}},"tags":["User"]}},"/api/user/bulk":{"post":{"operationId":"createManyUser","summary":"Create multiple Users","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateManyUserDto"}}}},"responses":{"201":{"description":"Get create many base response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}}}},"tags":["User"]}},"/api/auth/auth/login":{"post":{"operationId":"login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordLoginDto"}}}},"responses":{"201":{"description":""}},"tags":["auth"]}},"/api/auth/profile":{"get":{"operationId":"getProfile","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["auth"],"security":[{"bearer":[]}]}},"/api/role":{"post":{"operationId":"create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoleDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}},"tags":["role"]},"get":{"operationId":"findAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}},"tags":["role"]}},"/api/role/{id}":{"get":{"operationId":"findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}},"tags":["role"]},"patch":{"operationId":"update","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRoleDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}},"tags":["role"]},"delete":{"operationId":"remove","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}},"tags":["role"]}},"/api/faster-crud/dict/{entity}":{"get":{"operationId":"getDict","parameters":[{"name":"entity","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["fce"]}},"/api/faster-crud/all":{"get":{"operationId":"getAll","parameters":[],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}}}},"tags":["fce"]}},"/api/file/upload":{"post":{"operationId":"uploadFile","parameters":[],"responses":{"201":{"description":""}},"tags":["File"]}},"/api/file/{key}":{"get":{"operationId":"getFile","parameters":[{"name":"key","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["File"]}},"/api/consensus/create-message":{"post":{"operationId":"createMessage","parameters":[],"responses":{"201":{"description":""}}}},"/api/consensus/validate-message":{"post":{"operationId":"validateMessage","summary":"","description":"Is author has a valid message in the time range in the blockchain\n\nhashed message is stored in the blockchain\n\n == hash(message + author) in blockchain?","parameters":[],"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"boolean"}}}}}}},"/api/geo-object/bounds":{"get":{"operationId":"findObjectsInBounds","summary":"Find geo objects within specified bounds","parameters":[{"name":"minLat","required":true,"in":"query","schema":{"minimum":-90,"maximum":90,"type":"number"}},{"name":"maxLat","required":true,"in":"query","schema":{"minimum":-90,"maximum":90,"type":"number"}},{"name":"minLon","required":true,"in":"query","schema":{"minimum":-180,"maximum":180,"type":"number"}},{"name":"maxLon","required":true,"in":"query","schema":{"minimum":-180,"maximum":180,"type":"number"}},{"name":"type","required":false,"in":"query","schema":{"type":"string"}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}},{"required":true,"name":"minLat","in":"query","schema":{"minimum":-90,"maximum":90,"type":"number"}},{"required":true,"name":"maxLat","in":"query","schema":{"minimum":-90,"maximum":90,"type":"number"}},{"required":true,"name":"minLon","in":"query","schema":{"minimum":-180,"maximum":180,"type":"number"}},{"required":true,"name":"maxLon","in":"query","schema":{"minimum":-180,"maximum":180,"type":"number"}},{"required":false,"name":"type","in":"query","schema":{"type":"string"}},{"required":false,"name":"page","in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"required":false,"name":"limit","in":"query","schema":{"minimum":1,"maximum":100,"default":10,"type":"number"}}],"responses":{"200":{"description":""}},"tags":["geo-object"]}},"/api/geo-object/range/{lat}/{lon}/{radius}":{"get":{"operationId":"findGeoObjectsInArea","parameters":[{"name":"lat","required":true,"in":"path","schema":{"type":"string"}},{"name":"lon","required":true,"in":"path","schema":{"type":"string"}},{"name":"radius","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GeoObject"}}}}}},"tags":["geo-object"]}},"/api/geo-object/anchor/{anchorId}":{"get":{"operationId":"findGeoObjectsByAnchor","parameters":[{"name":"anchorId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/GeoObject"}}}}}},"tags":["geo-object"]}},"/api/geo-object/{id}":{"get":{"operationId":"findOneGeoObject","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeoObject"}}}}},"tags":["geo-object"]}},"/api/geo-object":{"post":{"operationId":"updateGeoObject","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateGeoObjectDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeoObject"}}}}},"tags":["geo-object"]}},"/api/geo-image":{"post":{"operationId":"createGeoImage","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateGeoImageDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeoImage"}}}}},"tags":["geo-image"]},"get":{"operationId":"findAllGeoImages","parameters":[],"responses":{"200":{"description":""}},"tags":["geo-image"]}},"/api/geo-image/{id}":{"get":{"operationId":"findOneGeoImage","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeoImage"}}}}},"tags":["geo-image"]},"delete":{"operationId":"deleteGeoImage","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeoImage"}}}}},"tags":["geo-image"]}},"/api/cloud-anchor/range/{lat}/{lon}/{radius}":{"get":{"operationId":"findCloudAnchorObjectsInArea","parameters":[{"name":"lat","required":true,"in":"path","schema":{"type":"string"}},{"name":"lon","required":true,"in":"path","schema":{"type":"string"}},{"name":"radius","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/CloudAnchor"}}}}}},"tags":["cloud-anchor"]}},"/api/cloud-anchor":{"post":{"operationId":"createCloudAnchor","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCloudAnchorDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CloudAnchor"}}}}},"tags":["cloud-anchor"]},"get":{"operationId":"findAllAnchors","parameters":[{"name":"pageSize","required":true,"in":"query","schema":{"type":"string"}},{"name":"page","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["cloud-anchor"]}},"/api/cloud-anchor/detail/{id}":{"get":{"operationId":"findOneAnchor","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CloudAnchor"}}}}},"tags":["cloud-anchor"]}},"/api/cloud-anchor/list":{"get":{"operationId":"listAnchors","parameters":[{"name":"pageSize","required":true,"in":"query","schema":{"type":"string"}},{"name":"nextPageToken","required":true,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["cloud-anchor"]}},"/api/cloud-anchor/{anchorId}":{"get":{"operationId":"getAnchor","parameters":[{"name":"anchorId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["cloud-anchor"]},"delete":{"operationId":"deleteAnchor","parameters":[{"name":"anchorId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":""}},"tags":["cloud-anchor"]}},"/api/cloud-anchor/{anchorId}/expire-time":{"patch":{"operationId":"updateAnchorExpireTime","parameters":[{"name":"anchorId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"object"}}}}},"tags":["cloud-anchor"]}},"/api/geo-comment":{"post":{"operationId":"createComment","summary":"创建地理评论","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateGeoCommentDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeoComment"}}}}},"tags":["geo-comment"]},"get":{"operationId":"findAllComments","summary":"分页查询评论列表","parameters":[{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"default":10,"type":"number"}},{"required":false,"name":"page","in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"required":false,"name":"limit","in":"query","schema":{"minimum":1,"default":10,"type":"number"}}],"responses":{"200":{"description":""}},"tags":["geo-comment"]}},"/api/geo-comment/{id}":{"get":{"operationId":"findOneComment","summary":"获取单个评论","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeoComment"}}}}},"tags":["geo-comment"]},"patch":{"operationId":"updateComment","summary":"更新评论","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateGeoCommentDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeoComment"}}}}},"tags":["geo-comment"]},"delete":{"operationId":"deleteComment","summary":"删除评论","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GeoComment"}}}}},"tags":["geo-comment"]}},"/api/geo-comment/cloud-anchor/{cloudAnchorId}":{"get":{"operationId":"findCommentsByCloudAnchorId","summary":"按云锚点ID查询评论","parameters":[{"name":"cloudAnchorId","required":true,"in":"path","schema":{"type":"number"}},{"name":"page","required":false,"in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"name":"limit","required":false,"in":"query","schema":{"minimum":1,"default":10,"type":"number"}},{"required":false,"name":"page","in":"query","schema":{"minimum":1,"default":1,"type":"number"}},{"required":false,"name":"limit","in":"query","schema":{"minimum":1,"default":10,"type":"number"}}],"responses":{"200":{"description":""}},"tags":["geo-comment"]}},"/api/geo-comment/cloud-anchor/{cloudAnchorId}/statistics":{"get":{"operationId":"getStatisticsByCloudAnchorId","summary":"获取评论统计信息","parameters":[{"name":"cloudAnchorId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":""}},"tags":["geo-comment"]}},"/api/scene":{"post":{"operationId":"createScene","summary":"创建新场景","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateSceneDto"}}}},"responses":{"201":{"description":"场景创建成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}}},"tags":["scene"],"security":[{"bearer":[]}]},"get":{"operationId":"findAllScenes","summary":"获取所有场景","parameters":[],"responses":{"200":{"description":"返回所有场景列表","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Scene"}}}}}},"tags":["scene"],"security":[{"bearer":[]}]}},"/api/scene/my-scenes":{"get":{"operationId":"findUserScenes","summary":"获取用户相关的场景","parameters":[],"responses":{"200":{"description":"返回用户创建或管理的场景列表","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Scene"}}}}}},"tags":["scene"],"security":[{"bearer":[]}]}},"/api/scene/{id}":{"get":{"operationId":"findOneScene","summary":"根据ID获取场景","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"返回指定场景","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}}},"tags":["scene"],"security":[{"bearer":[]}]},"patch":{"operationId":"updateScene","summary":"更新场景","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateSceneDto"}}}},"responses":{"200":{"description":"场景更新成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}}},"tags":["scene"],"security":[{"bearer":[]}]},"delete":{"operationId":"removeScene","summary":"删除场景","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"场景删除成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}}},"tags":["scene"],"security":[{"bearer":[]}]}},"/api/scene/{id}/labels/{labelId}":{"post":{"operationId":"addLabel","summary":"为场景添加标签","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"labelId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"标签添加成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}}},"tags":["scene"],"security":[{"bearer":[]}]},"delete":{"operationId":"removeLabel","summary":"从场景移除标签","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"labelId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"标签移除成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}}},"tags":["scene"],"security":[{"bearer":[]}]}},"/api/scene/by-label/{labelId}":{"get":{"operationId":"findByLabel","summary":"根据标签查询场景","parameters":[{"name":"labelId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"返回带有指定标签的场景列表","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Scene"}}}}}},"tags":["scene"],"security":[{"bearer":[]}]}},"/api/scene/{id}/managers/{managerId}":{"post":{"operationId":"addManager","summary":"添加场景管理员","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"managerId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"管理员添加成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}},"201":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}}},"tags":["scene"],"security":[{"bearer":[]}]},"delete":{"operationId":"removeManager","summary":"移除场景管理员","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}},{"name":"managerId","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"管理员移除成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scene"}}}}},"tags":["scene"],"security":[{"bearer":[]}]}},"/api/label":{"post":{"operationId":"createLabel","summary":"创建新标签","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateLabelDto"}}}},"responses":{"201":{"description":"标签创建成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Label"}}}}},"tags":["label"]},"get":{"operationId":"findAllLabels","summary":"获取所有标签","parameters":[],"responses":{"200":{"description":"返回所有标签列表","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Label"}}}}}},"tags":["label"]}},"/api/label/{id}":{"get":{"operationId":"findOneLabel","summary":"根据ID获取标签","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"返回指定标签","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Label"}}}}},"tags":["label"]},"patch":{"operationId":"updateLabel","summary":"更新标签","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateLabelDto"}}}},"responses":{"200":{"description":"标签更新成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Label"}}}}},"tags":["label"]},"delete":{"operationId":"removeLabel","summary":"删除标签","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"标签删除成功","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Label"}}}}},"tags":["label"]}},"/api/watermark/create":{"post":{"operationId":"createWatermark","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWatermarkDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"number"}}}}},"tags":["Watermark"]}},"/api/watermark/extract":{"post":{"operationId":"extractWatermark","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExtractWatermarkDto"}}}},"responses":{"201":{"description":"","content":{"application/json":{"schema":{"type":"string"}}}}},"tags":["Watermark"]}},"/api/statistics":{"get":{"operationId":"getStatistics","summary":"获取系统统计数据","parameters":[],"responses":{"200":{"description":"返回系统统计数据","content":{"application/json":{"schema":{"type":"object","properties":{"cloudAnchorsCount":{"type":"number","description":"Cloud Anchors 总数"},"geoImagesCount":{"type":"number","description":"Geo Images 总数"},"geoCommentsCount":{"type":"number","description":"Geo Comments 总数"}}}}}}},"tags":["statistics"]}}},"info":{"title":"SnapSphere API","description":"SnapSphere API","version":"1.0","contact":{}},"tags":[{"name":"ss","description":""}],"servers":[],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"CreateUserDto":{"type":"object","properties":{"username":{"type":"string","minLength":1,"maxLength":20},"password":{"type":"string","minLength":1,"maxLength":32}},"required":["username","password"]},"GetManyUserResponseDto":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/User"}},"count":{"type":"number"},"total":{"type":"number"},"page":{"type":"number"},"pageCount":{"type":"number"}},"required":["data","count","total","page","pageCount"]},"Role":{"type":"object","properties":{"id":{"type":"number"},"name":{"type":"string"},"user":{"$ref":"#/components/schemas/User"}},"required":["id","name","user"]},"File":{"type":"object","properties":{"key":{"type":"string"},"originalName":{"type":"string"},"size":{"type":"number"},"mimeType":{"type":"string"},"user":{"$ref":"#/components/schemas/User"},"deletedAt":{"format":"date-time","type":"string"}},"required":["key","originalName","size","mimeType","user","deletedAt"]},"User":{"type":"object","properties":{"id":{"type":"number"},"username":{"type":"string"},"password":{"type":"string"},"roles":{"type":"array","items":{"$ref":"#/components/schemas/Role"}},"files":{"type":"array","items":{"$ref":"#/components/schemas/File"}}},"required":["id","username","password","roles","files"]},"CreateManyUserDto":{"type":"object","properties":{"bulk":{"type":"array","items":{"$ref":"#/components/schemas/User"}}},"required":["bulk"]},"PasswordLoginDto":{"type":"object","properties":{"username":{"type":"string","minLength":1,"maxLength":20},"password":{"type":"string","minLength":1,"maxLength":32}},"required":["username","password"]},"CreateRoleDto":{"type":"object","properties":{}},"UpdateRoleDto":{"type":"object","properties":{}},"Label":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"scenes":{"type":"array","items":{"$ref":"#/components/schemas/Scene"}}},"required":["id","name","description","scenes"]},"Scene":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"children":{"type":"array","items":{"$ref":"#/components/schemas/GeoObject"}},"labels":{"type":"array","items":{"$ref":"#/components/schemas/Label"}},"creator":{"$ref":"#/components/schemas/User"},"managers":{"type":"array","items":{"$ref":"#/components/schemas/User"}}},"required":["name","description","children","labels","creator","managers"]},"GeoObject":{"type":"object","properties":{"type":{"type":"string"},"anchor":{"type":"object"},"anchor_latitude":{"type":"number"},"metadata":{"type":"string","nullable":true},"cloudAnchor":{"$ref":"#/components/schemas/CloudAnchor"},"relPosition":{"type":"object"},"relAltitude":{"type":"number"},"relOrientation":{"type":"array","items":{"type":"number"}},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"scene":{"$ref":"#/components/schemas/Scene"}},"required":["type","anchor","anchor_latitude","metadata","cloudAnchor","relPosition","relAltitude","relOrientation","createdAt","updatedAt","scene"]},"CloudAnchor":{"type":"object","properties":{"id":{"type":"number"},"cloudAnchorId":{"type":"string"},"anchor":{"type":"object"},"altitude":{"type":"number"},"geoObjects":{"type":"array","items":{"$ref":"#/components/schemas/GeoObject"}}},"required":["id","cloudAnchorId","anchor","altitude","geoObjects"]},"UpdateGeoObjectDto":{"type":"object","properties":{"id":{"type":"string"},"data":{"type":"object"}},"required":["id","data"]},"CreateGeoImageDto":{"type":"object","properties":{"ossFileId":{"type":"string"},"position":{"type":"object"},"altitude":{"type":"number"},"orientation":{"type":"array","items":{"type":"number"}},"scale":{"type":"array","items":{"type":"number"}},"cloudAnchorId":{"type":"string"},"metadata":{"type":"string"}},"required":["ossFileId","position","altitude","orientation","cloudAnchorId"]},"GeoImage":{"type":"object","properties":{"type":{"type":"string"},"anchor":{"type":"object"},"anchor_latitude":{"type":"number"},"metadata":{"type":"string","nullable":true},"cloudAnchor":{"$ref":"#/components/schemas/CloudAnchor"},"relPosition":{"type":"object"},"relAltitude":{"type":"number"},"relOrientation":{"type":"array","items":{"type":"number"}},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"scene":{"$ref":"#/components/schemas/Scene"},"ossFile":{"$ref":"#/components/schemas/File"}},"required":["type","anchor","anchor_latitude","metadata","cloudAnchor","relPosition","relAltitude","relOrientation","createdAt","updatedAt","scene","ossFile"]},"CreateCloudAnchorDto":{"type":"object","properties":{"cloudAnchorId":{"type":"string"},"position":{"type":"array","items":{"type":"number"}},"altitude":{"type":"number"}},"required":["cloudAnchorId","position","altitude"]},"CreateGeoCommentDto":{"type":"object","properties":{"position":{"type":"object"},"altitude":{"type":"number"},"orientation":{"type":"array","items":{"type":"number"}},"scale":{"type":"array","items":{"type":"number"}},"cloudAnchorId":{"type":"string"},"metadata":{"type":"string"}},"required":["position","altitude","orientation","cloudAnchorId"]},"GeoComment":{"type":"object","properties":{"type":{"type":"string"},"anchor":{"type":"object"},"anchor_latitude":{"type":"number"},"metadata":{"type":"string","nullable":true},"cloudAnchor":{"$ref":"#/components/schemas/CloudAnchor"},"relPosition":{"type":"object"},"relAltitude":{"type":"number"},"relOrientation":{"type":"array","items":{"type":"number"}},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"},"scene":{"$ref":"#/components/schemas/Scene"},"text":{"type":"string"}},"required":["type","anchor","anchor_latitude","metadata","cloudAnchor","relPosition","relAltitude","relOrientation","createdAt","updatedAt","scene","text"]},"UpdateGeoCommentDto":{"type":"object","properties":{"position":{"type":"object"},"altitude":{"type":"number"},"orientation":{"type":"array","items":{"type":"number"}},"scale":{"type":"array","items":{"type":"number"}},"cloudAnchorId":{"type":"string"},"metadata":{"type":"string"}}},"CreateSceneDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"position":{"type":"array","items":{"type":"string"}},"altitude":{"type":"number"},"orientation":{"type":"array","items":{"type":"string"}},"scale":{"type":"array","items":{"type":"string"}},"managerIds":{"type":"array","items":{"type":"number"}}},"required":["name","position"]},"UpdateSceneDto":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"position":{"type":"array","items":{"type":"string"}},"altitude":{"type":"number"},"orientation":{"type":"array","items":{"type":"string"}},"scale":{"type":"array","items":{"type":"string"}},"managerIds":{"type":"array","items":{"type":"number"}}}},"CreateLabelDto":{"type":"object","properties":{"name":{"type":"string","description":"标签名称"},"description":{"type":"string","description":"标签描述"}},"required":["name"]},"UpdateLabelDto":{"type":"object","properties":{"name":{"type":"string","description":"标签名称"},"description":{"type":"string","description":"标签描述"}}},"CreateWatermarkDto":{"type":"object","properties":{"fileKey":{"type":"string"},"watermark":{"type":"string"}},"required":["fileKey","watermark"]},"ExtractWatermarkDto":{"type":"object","properties":{"fileKey":{"type":"string"},"passwordImg":{"type":"number"},"passwordWm":{"type":"number"},"watermarkLength":{"type":"number"}},"required":["fileKey","passwordImg","passwordWm","watermarkLength"]}}}}